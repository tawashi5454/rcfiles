
# based by http://devel.aquahill.net/zsh/zshoptions

# emacsÈ¢®„ÅÆ„Ç≠„Éº„Éê„Ç§„É≥„Éâ(„Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„Åß„ÅØviÈ¢®„ÅØÂé≥„Åó„ÅÑ„ÄÇ„ÄÇ„ÄÇ)
bindkey -e

# „Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„Ç™„Éó„Ç∑„Éß„É≥„ÇíË£úÂÆå
autoload -U compinit; compinit

# Ëâ≤„Çí‰Ωø„ÅÜ
autoload -U colors
colors

# „Éó„É≠„É≥„Éó„Éà„Å´Ëâ≤‰ªò„Åë„Åô„Çã
setopt prompt_subst

# „Éó„É≠„É≥„Éó„Éà„Å´„É¶„Éº„Ç∂„ÉºÂêç„ÄÅ„Éõ„Çπ„ÉàÂêç„ÄÅ„Ç´„É¨„É≥„Éà„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíË°®Á§∫
# „É´„Éº„Éà„ÅÆÂ†¥Âêà„ÅØÂêçÂâç„ÇíËâ≤„Å•„Åë
PROMPT='[%(!.%{$fg[red]%}root%{$reset_color%}.%n)@%{$fg[red]%}%m%{$reset_color%} %1~]%(!.#.$) '

# „Éó„É≠„É≥„Éó„Éà„Å´„Ç´„É¨„É≥„Éà„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÊåáÂÆö
RPROMPT='[%~]'

# Ë£úÂÆå‰∏≠„ÅÆÂÄôË£ú„Å´„ÇÇËâ≤„Çí„Å§„Åë„Çã
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}

# Ë£úÂÆå„É™„Çπ„Éà„ÅÆ‰∏≠„ÇíÈÅ∏ÊäûÂèØËÉΩ„Å´„Åô„Çã
zstyle ':completion:*:default' menu select=1

# top„ÅØ1Áßí„Åä„Åç„Å´Êõ¥Êñ∞
alias top="top -d 1"

# „Ç∞„É≠„Éº„Éê„É´„Ç®„Ç§„É™„Ç¢„Çπ„ÇíË®≠ÂÆö
alias -g L="| lv -c"	# „Éë„Ç§„Éó„Åó„Å¶„ÇÇËâ≤„Å§„Åç
alias -g G="| grep"
alias -g T="| tail"
alias -g H="| head"

# Ë§áÊï∞„ÅÆ zsh „ÇíÂêåÊôÇ„Å´‰Ωø„ÅÜÊôÇ„Å™„Å© history „Éï„Ç°„Ç§„É´„Å´‰∏äÊõ∏„Åç„Åõ„ÅöËøΩÂä†„Åô„Çã
setopt append_history

# ÊåáÂÆö„Åó„Åü„Ç≥„Éû„É≥„ÉâÂêç„Åå„Å™„Åè„ÄÅ„Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„Å®‰∏ÄËá¥„Åó„ÅüÂ†¥Âêà cd „Åô„Çã
setopt auto_cd

# Ë£úÂÆåÂÄôË£ú„ÅåË§áÊï∞„ÅÇ„ÇãÊôÇ„Å´„ÄÅ‰∏ÄË¶ßË°®Á§∫„Åô„Çã
setopt auto_list

# Ë£úÂÆå„Ç≠„ÉºÔºàTab, Ctrl+I) „ÇíÈÄ£Êâì„Åô„Çã„Å†„Åë„ÅßÈ†Ü„Å´Ë£úÂÆåÂÄôË£ú„ÇíËá™Âãï„ÅßË£úÂÆå„Åô„Çã
setopt auto_menu

# „Ç´„ÉÉ„Ç≥„ÅÆÂØæÂøú„Å™„Å©„ÇíËá™ÂãïÁöÑ„Å´Ë£úÂÆå„Åô„Çã
setopt auto_param_keys

# „Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„ÅÆË£úÂÆå„ÅßÊú´Â∞æ„ÅÆ / „ÇíËá™ÂãïÁöÑ„Å´‰ªòÂä†„Åó„ÄÅÊ¨°„ÅÆË£úÂÆå„Å´ÂÇô„Åà„Çã
#setopt auto_param_slash

# ÊúÄÂæå„Åå„Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„ÅßÁµÇ„Çè„Å£„Å¶„ÅÑ„ÇãÂ†¥ÂêàÊú´Â∞æ„ÅÆ / „ÇíËá™ÂãïÁöÑ„Å´Âèñ„ÇäÈô§„Åè
setopt auto_remove_slash

# „Çµ„Çπ„Éö„É≥„Éâ‰∏≠„ÅÆ„Éó„É≠„Çª„Çπ„Å®Âêå„Åò„Ç≥„Éû„É≥„ÉâÂêç„ÇíÂÆüË°å„Åó„ÅüÂ†¥Âêà„ÅØ„É™„Ç∏„É•„Éº„É†„Åô„Çã
setopt auto_resume

# „Éì„Éº„ÉóÈü≥„ÇíÈ≥¥„Çâ„Åï„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
setopt NO_beep

# {a-c} „Çí a b c „Å´Â±ïÈñã„Åô„ÇãÊ©üËÉΩ„Çí‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã
setopt brace_ccl

# ÂÜÖÈÉ®„Ç≥„Éû„É≥„Éâ„ÅÆ echo „Çí BSD ‰∫íÊèõ„Å´„Åô„Çã
#setopt bsd_echo

# „Ç∑„É≥„Éú„É™„ÉÉ„ÇØ„É™„É≥„ÇØ„ÅØÂÆü‰Ωì„ÇíËøΩ„ÅÜ„Çà„ÅÜ„Å´„Å™„Çã
#setopt chase_links

# Êó¢Â≠ò„ÅÆ„Éï„Ç°„Ç§„É´„Çí‰∏äÊõ∏„Åç„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
#setopt clobber

# „Ç≥„Éû„É≥„Éâ„ÅÆ„Çπ„Éö„É´„ÉÅ„Çß„ÉÉ„ÇØ„Çí„Åô„Çã
setopt correct

# „Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥ÂÖ®„Å¶„ÅÆ„Çπ„Éö„É´„ÉÅ„Çß„ÉÉ„ÇØ„Çí„Åô„Çã
#setopt correct_all

# =command „Çí command „ÅÆ„Éë„ÇπÂêç„Å´Â±ïÈñã„Åô„Çã
setopt equals

# „Éï„Ç°„Ç§„É´Âêç„Åß #, ~, ^ „ÅÆ 3 ÊñáÂ≠ó„ÇíÊ≠£Ë¶èË°®Áèæ„Å®„Åó„Å¶Êâ±„ÅÜ
setopt extended_glob

# zsh „ÅÆÈñãÂßã„ÉªÁµÇ‰∫ÜÊôÇÂàª„Çí„Éí„Çπ„Éà„É™„Éï„Ç°„Ç§„É´„Å´Êõ∏„ÅçËæº„ÇÄ
#setopt extended_history

# Ctrl+S/Ctrl+Q „Å´„Çà„Çã„Éï„É≠„ÉºÂà∂Âæ°„Çí‰Ωø„Çè„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
setopt NO_flow_control

# ÂêÑ„Ç≥„Éû„É≥„Éâ„ÅåÂÆüË°å„Åï„Çå„Çã„Å®„Åç„Å´„Éë„Çπ„Çí„Éè„ÉÉ„Ç∑„É•„Å´ÂÖ•„Çå„Çã
#setopt hash_cmds

# Áõ¥Ââç„Å®Âêå„Åò„Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„ÅØ„Éí„Çπ„Éà„É™„Å´ËøΩÂä†„Åó„Å™„ÅÑ
#setopt hist_ignore_dups

# „Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„ÅÆÂÖàÈ†≠„Åå„Çπ„Éö„Éº„Çπ„ÅßÂßã„Åæ„ÇãÂ†¥Âêà„Éí„Çπ„Éà„É™„Å´ËøΩÂä†„Åó„Å™„ÅÑ
setopt hist_ignore_space

# „Éí„Çπ„Éà„É™„ÇíÂëº„Å≥Âá∫„Åó„Å¶„Åã„ÇâÂÆüË°å„Åô„ÇãÈñì„Å´‰∏ÄÊó¶Á∑®ÈõÜ„Åß„Åç„ÇãÁä∂ÊÖã„Å´„Å™„Çã
setopt hist_verify

# „Ç∑„Çß„É´„ÅåÁµÇ‰∫Ü„Åó„Å¶„ÇÇË£è„Ç∏„Éß„Éñ„Å´ HUP „Ç∑„Ç∞„Éä„É´„ÇíÈÄÅ„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
setopt NO_hup

# Ctrl+D „Åß„ÅØÁµÇ‰∫Ü„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„ÇãÔºàexit, logout „Å™„Å©„Çí‰Ωø„ÅÜÔºâ
#setopt ignore_eof

# „Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„Åß„ÇÇ # ‰ª•Èôç„Çí„Ç≥„É°„É≥„Éà„Å®Ë¶ã„Å™„Åô
setopt interactive_comments

# auto_list „ÅÆË£úÂÆåÂÄôË£ú‰∏ÄË¶ß„Åß„ÄÅls -F „ÅÆ„Çà„ÅÜ„Å´„Éï„Ç°„Ç§„É´„ÅÆÁ®ÆÂà•„Çí„Éû„Éº„ÇØË°®Á§∫
setopt list_types

# ÂÜÖÈÉ®„Ç≥„Éû„É≥„Éâ jobs „ÅÆÂá∫Âäõ„Çí„Éá„Éï„Ç©„É´„Éà„Åß jobs -l „Å´„Åô„Çã
setopt long_list_jobs

# „Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„ÅÆÂºïÊï∞„Åß --prefix=/usr „Å™„Å©„ÅÆ = ‰ª•Èôç„Åß„ÇÇË£úÂÆå„Åß„Åç„Çã
setopt magic_equal_subst

# „É°„Éº„É´„Çπ„Éó„Éº„É´ $MAIL „ÅåË™≠„Åæ„Çå„Å¶„ÅÑ„Åü„Çâ„ÉØ„Éº„Éã„É≥„Ç∞„ÇíË°®Á§∫„Åô„Çã
#setopt mail_warning

# „Éï„Ç°„Ç§„É´Âêç„ÅÆÂ±ïÈñã„Åß„Éá„Ç£„É¨„ÇØ„Éà„É™„Å´„Éû„ÉÉ„ÉÅ„Åó„ÅüÂ†¥ÂêàÊú´Â∞æ„Å´ / „Çí‰ªòÂä†„Åô„Çã
setopt mark_dirs

# Ë£úÂÆåÂÄôË£ú„ÅåË§áÊï∞„ÅÇ„ÇãÊôÇ„ÄÅ‰∏ÄË¶ßË°®Á§∫ (auto_list) „Åõ„Åö„ÄÅ„Åô„Åê„Å´ÊúÄÂàù„ÅÆÂÄôË£ú„ÇíË£úÂÆå„Åô„Çã
#setopt menu_complete

# Ë§áÊï∞„ÅÆ„É™„ÉÄ„Ç§„É¨„ÇØ„Éà„ÇÑ„Éë„Ç§„Éó„Å™„Å©„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶ tee „ÇÑ cat „ÅÆÊ©üËÉΩ„Åå‰Ωø„Çè„Çå„Çã
setopt multios

# „Éï„Ç°„Ç§„É´Âêç„ÅÆÂ±ïÈñã„Åß„ÄÅËæûÊõ∏È†Ü„Åß„ÅØ„Å™„ÅèÊï∞ÂÄ§ÁöÑ„Å´„ÇΩ„Éº„Éà„Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çã
setopt numeric_glob_sort

# „Ç≥„Éû„É≥„ÉâÂêç„Å´ / „ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Çã„Å®„Åç PATH ‰∏≠„ÅÆ„Çµ„Éñ„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÊé¢„Åô
#setopt path_dirs

# 8 „Éì„ÉÉ„ÉàÁõÆ„ÇíÈÄö„Åô„Çà„ÅÜ„Å´„Å™„Çä„ÄÅÊó•Êú¨Ë™û„ÅÆ„Éï„Ç°„Ç§„É´Âêç„Å™„Å©„ÇíË¶ã„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çã
setopt print_eightbit

# Êàª„ÇäÂÄ§„Åå 0 ‰ª•Â§ñ„ÅÆÂ†¥ÂêàÁµÇ‰∫Ü„Ç≥„Éº„Éâ„ÇíË°®Á§∫„Åô„Çã
#setopt print_exit_value

# „Éá„Ç£„É¨„ÇØ„Éà„É™„Çπ„Çø„ÉÉ„ÇØ„Å´Âêå„Åò„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíËøΩÂä†„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Çã
#setopt pushd_ignore_dups

# pushd „ÇíÂºïÊï∞„Å™„Åó„ÅßÂÆüË°å„Åó„ÅüÂ†¥Âêà pushd $HOME „Å®Ë¶ã„Å™„Åï„Çå„Çã
#setopt pushd_to_home

# rm * „Å™„Å©„ÅÆÈöõ„ÄÅÊú¨ÂΩì„Å´ÂÖ®„Å¶„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÊ∂à„Åó„Å¶ËâØ„ÅÑ„Åã„ÅÆÁ¢∫Ë™ç„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Çã
#setopt rm_star_silent

# rm_star_silent „ÅÆÈÄÜ„Åß„ÄÅ10 ÁßíÈñìÂèçÂøú„Åó„Å™„Åè„Å™„Çä„ÄÅÈ†≠„ÇíÂÜ∑„Åæ„ÅôÊôÇÈñì„Åå‰∏é„Åà„Çâ„Çå„Çã
#setopt rm_star_wait

# for, repeat, select, if, function „Å™„Å©„ÅßÁ∞°Áï•ÊñáÊ≥ï„Åå‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Å™„Çã
setopt short_loops

# „Éá„Éï„Ç©„É´„Éà„ÅÆË§áÊï∞Ë°å„Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥Á∑®ÈõÜ„Åß„ÅØ„Å™„Åè„ÄÅÔºëË°åÁ∑®ÈõÜ„É¢„Éº„Éâ„Å´„Å™„Çã
#setopt single_line_zle

# „Ç≥„Éû„É≥„Éâ„É©„Ç§„É≥„Åå„Å©„ÅÆ„Çà„ÅÜ„Å´Â±ïÈñã„Åï„ÇåÂÆüË°å„Åï„Çå„Åü„Åã„ÇíË°®Á§∫„Åô„Çã„Çà„ÅÜ„Å´„Å™„Çã
#setopt xtrace

# „Ç∑„Çß„É´„ÅÆ„Éó„É≠„Çª„Çπ„Åî„Å®„Å´Â±•Ê≠¥„ÇíÂÖ±Êúâ
setopt share_history

# history (fc -l) „Ç≥„Éû„É≥„Éâ„Çí„Éí„Çπ„Éà„É™„É™„Çπ„Éà„Åã„ÇâÂèñ„ÇäÈô§„Åè„ÄÇ
setopt hist_no_store

# ÊñáÂ≠óÂàóÊú´Â∞æ„Å´ÊîπË°å„Ç≥„Éº„Éâ„ÅåÁÑ°„ÅÑÂ†¥Âêà„Åß„ÇÇË°®Á§∫„Åô„Çã
unsetopt promptcr

#„Ç≥„Éî„Éö„ÅÆÊôÇrprompt„ÇíÈùûË°®Á§∫„Åô„Çã
setopt transient_rprompt

# cd -[tab] „Åßpushd
setopt autopushd

# „Éí„Çπ„Éà„É™„ÇíÁõ¥Êé•ÂÆüË°å
unsetopt HISTVERIFY

# Â±•Ê≠¥Á≥ª„ÇÇ„Çç„ÇÇ„Çç
HISTFILE=$HOME/.zsh-history           # Â±•Ê≠¥„Çí„Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò„Åô„Çã
HISTSIZE=100000                       # „É°„É¢„É™ÂÜÖ„ÅÆÂ±•Ê≠¥„ÅÆÊï∞
SAVEHIST=100000                       # ‰øùÂ≠ò„Åï„Çå„ÇãÂ±•Ê≠¥„ÅÆÊï∞
setopt extended_history               # Â±•Ê≠¥„Éï„Ç°„Ç§„É´„Å´ÊôÇÂàª„ÇíË®òÈå≤
function history-all { history -E 1 } # ÂÖ®Â±•Ê≠¥„ÅÆ‰∏ÄË¶ß„ÇíÂá∫Âäõ„Åô„Çã

# ruby
alias ruby="ruby -Ku"

preexec () {
  if [ $TERM = "screen" ]; then
    echo -ne "\ek${1%% *}\e\\"
  fi
}

# ScreenÈñ¢‰øÇ„ÅÆË®≠ÂÆö
alias sn='screen'
alias ss='screen -rx'

if [ "$TERM" = "screen" ]; then
	chpwd () { echo -n "_`dirs`\\" }
	preexec() {
		# see [zsh-workers:13180]
		# http://www.zsh.org/mla/workers/2000/msg03993.html
		emulate -L zsh
		local -a cmd; cmd=(${(z)2})
		case $cmd[1] in
			fg)
				if (( $#cmd == 1 )); then
					cmd=(builtin jobs -l %+)
				else
					cmd=(builtin jobs -l $cmd[2])
				fi
				;;
			%*) 
				cmd=(builtin jobs -l $cmd[1])
				;;
			cd)
				if (( $#cmd == 2)); then
					cmd[1]=$cmd[2]
				fi
				;&
			*)
				echo -n "k$cmd[1]:t\\"
				return
				;;
		esac

		local -A jt; jt=(${(kv)jobtexts})

		$cmd >>(read num rest
			cmd=(${(z)${(e):-\$jt$num}})
			echo -n "k$cmd[1]:t\\") 2>/dev/null
	}
	chpwd
fi

# MacVim„ÅÆË®≠ÂÆö
alias vi='env LANG=ja_JP.UTF-8 /Applications/MacVim.app/Contents/MacOS/Vim "$@"'
alias vim='env LANG=ja_JP.UTF-8 /Applications/MacVim.app/Contents/MacOS/Vim "$@"'
alias gvim='env LANG=ja_JP.UTF-8 open -a /Applications/MacVim.app "$@"'

# git
alias gl='git log --pretty=format:"%C(yellow)%h%Creset %Cgreen%ar%Creset %s"'

